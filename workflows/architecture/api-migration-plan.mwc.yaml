name: "API Migration Plan"
version: "1.0.0"
description: "Create a step-by-step plan to migrate from an old API version to a new one"
mwc_version: "1.0.0"

inputs:
  - name: old_api_spec
    type: string
    description: "Documentation or examples of the current API"
  - name: new_api_spec
    type: string
    description: "Documentation or examples of the new API"

steps:
  - id: map_changes
    type: model_call
    prompt: "Compare {{old_api_spec}} and {{new_api_spec}}. Identify breaking changes, renamed fields, and deprecated endpoints."

  - id: migration_steps
    type: model_call
    prompt: "Create a 3-phase migration plan (Preparation, Execution, Verification) based on the changes identified: {{map_changes}}."

outputs:
  - name: migration_plan
    type: string
